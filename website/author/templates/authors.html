{% extends 'admin.html' %}
{% from "_helpers.html" import delete_modal %}
{% block data %}
<div class="d-flex flex-column">
  <div class="row align-items-center justify-content-end">
    <div class="col-2">
      <a href="{{url_for('author.add_author')}}" class="btn btn-primary">
        <i class="bi bi-plus-lg"></i> Add Author
      </a>
    </div>
  </div>
</div>
<table class="table table-sm table-striped">
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Author</th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    {% for author in authors %}
    <tr>
      <th scope="row">
        {{author.id}}
      </th>
      <td scope="row">
        <a href="{{url_for('author.change_author', id=author.id)}}">
          {{author.name}}
        </a>
      </td>
      <td scope="row">
        {{author.books|length}} books
      </td>
      <td scope="row">
        {{delete_modal(author.name, url_for('author.delete_author', id=author.id), author.id)}}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock data %}